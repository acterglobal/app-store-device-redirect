<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Installing Acter... redirecting</title>
    <meta name="description"
      content="This page will redirect you to the acter app in the app store.">
    <script type="text/javascript">
      function executeRedirect() {
        // Enable / disable debugging for testing:
        var debug = false;
        var googleStoreUrl = document.getElementById('google-store-link');
        var appleStoreUrl = document.getElementById('apple-store-link');
        var msStoreUrl = document.getElementById('msstore-link');

        const queryString = window.location.search;
        if (/qrcode/i.test(queryString)) {
          // we skipped
          console.log("skipped to show qrcode");
          var qrtogleToggle = document.getElementById('qrcode-toggle');
          qrtogleToggle.open = true;
          return;
        }
 

        var userAgent = navigator.userAgent || navigator.vendor || window.opera;
        console.log(userAgent);
        // Android devices:
        if (googleStoreUrl && /android/i.test(userAgent)) {
          if (debug) { if (!confirm('Detected: Android device')) { return } }
          window.location.href = googleStoreUrl;
        } else if (appleStoreUrl && /iPad|iPhone|iPod|Mac/.test(userAgent) && !window.MSuserAgentStream) {
          // Apple devices:
          if (debug) { if (!confirm('Detected: Apple device')) { return }; }
          window.location.href = appleStoreUrl;
        } else if (msStoreUrl && /Windows|Win/.test(userAgent) && !window.MSuserAgentStream) {
          // Apple devices:
          if (debug) { if (!confirm('Detected: Windows device')) { return }; }
          window.location.href = appleStoreUrl;
        } else {
          // Log error to console if no redirect was possible.
          console.error('NO REDIRECT: User agent could not be detected. Showing static page.');
        }
      }
    </script>
    <style>
      .ci-color,
      a {
        color: #2E90D0;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        background-color: rgb(33, 37, 41);
        color: #FFF;
        font-family: 'Verdana', 'Arial', sans-serif;
        font-size: 14px;
      }

      h1 {
        font-size: 1.6em;
      }

      div#container {
        width: 100%;
        max-width: 920px;
        text-align: center;
        overflow: visible;
      }

      #qrcode-toggle img {
        margin: 10px;
        max-width: 50vw;
        max-height: 50wh; 
      }

      .subtitle {
        font-style: italic;
      }

      @keyframes pulse {
        0% {
          width: 100%;
          height: 100%;
          opacity: 0.8;
        }

        100% {
          width: 300%;
          max-width: 100vw;
          height: 300%;
          max-height: 100vh;
          opacity: 0;
        }
      }

      .row {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
      }

      .column {
        flex: 30%;
        min-width: 300px;
      }
    </style>
  </head>

  <body>
    <div id="container">
      <h1>You will now be redirected to the Acter Apps in the store based on your device ...</h1>

      <details id="qrcode-toggle">
        <summary>
          <strong>QRCode</strong>
        </summary>
          <img src="./acter-qrcode.png" alt="QR-code to this page"/>
      </details>
      <p class="subtitle">Otherwise select one of:</p>

      <div class="row" >
        <div class="column">
          <a id="google-store-link" href="https://play.google.com/store/apps/details?id=global.acter.a3&amp;pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1">
            <img alt="Get it on Google Play" width="250" src="https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png">
          </a>
        </div>
        <div class="column">
          <a id="apple-store-link" href="https://apps.apple.com/us/app/acter/id6445989155?itsct=apps_box_badge&amp;itscg=30200">
            <img src="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/black/en-us?size=250x83&amp;releaseDate=1694390400" alt="Download on the App Store" style="border-radius: 13px; width: 250px; height: 83px;">
          </a>
        </div>
        <div class="column">
          <a id="msstore-link" href="ms-windows-store://pdp/?ProductId=9NZLTDVTN203">
            <img height="83" src="https://get.microsoft.com/images/en-us%20dark.svg" alt="Download Acter">
          </a>
        </div>
        <div class="column">
          <a href="https://dev.acter.global/user/getting-started/setting-up/#linux-flatpak">
            <img height="83" src="https://dev.acter.global/images/flatpak-badge-en.svg" alt="Install Acter on Linux via Flatpak">
          </a>
        </div>
        </p>
      </div>


      <h1> Or learn more about <a href="https://acter.global">acter here</a></h1>
      <img src="./iPhone 14 Pro Space Black Mockup.webp">

    </div>
    <script type="text/javascript">
      executeRedirect();
    </script>
  </body>

</html>
